
"Clock Tower":
  region: ENTRANCE
  exits:
    "Clock Town From Clock Tower": "true"

"Clock Town From Clock Tower":
  region: CLOCK_TOWN_SOUTH
  exits:
    "Clock Town Near Clock Tower": "true"
  locations:
    "Initial Song of Healing": "true"

"Clock Town Near Clock Tower":
  region: CLOCK_TOWN_SOUTH
  exits:
    "GLOBAL": "true"
    "Clock Tower": "cond(setting(erIndoorsGameLinks), can_reset_time, true)"
    "Clock Town South": "can_reset_time"
    "Clock Tower Platform": "true"
    "Owl Clock Town": "true"

"Clock Tower Platform":
  region: CLOCK_TOWN_SOUTH
  exits:
    "Clock Town Near Clock Tower": "true"
    "Clock Tower Roof": "after(NIGHT3_AM_12_00) && cond(setting(erMoon), can_play_time || (can_reset_time && (trick(MM_CLOCK_TOWER_WAIT) || can_play_sun)), true)"
  locations:
    "Clock Town Platform HP": "true"

"Clock Town South":
  region: CLOCK_TOWN_SOUTH
  exits:
    "Clock Town Near Clock Tower": "true"
    "Termina Field": "true"
    "Clock Town South Upper West": "true"
    "Clock Town South Lower West": "true"
    "Clock Town South Upper East": "true"
    "Clock Town South Lower East": "true"
    "Clock Town North": "true"
    "Laundry Pool": "true"
  events:
    CLOCK_TOWN_SCRUB: "has(MOON_TEAR)"
    MAIL_LETTER: "has(LETTER_TO_KAFEI) && before(DAY2_AM_11_30)"
  locations:
    "Clock Town South Chest Lower": "can_hookshot || (is_adult && can_hookshot_short) || short_hook_anywhere || (has(MASK_DEKU) && event(CLOCK_TOWN_SCRUB)) || trick(MM_SCT_NOTHING) || can_goron_bomb_jump"
    "Clock Town South Chest Upper": "(can_hookshot || short_hook_anywhere || (has(MASK_DEKU) && event(CLOCK_TOWN_SCRUB)) || (can_goron_bomb_jump && can_hookshot_short)) && final_day"
    "Clock Town Business Scrub": "soul_business_scrub && event(CLOCK_TOWN_SCRUB)"
    "Clock Town Post Box": "has(MASK_POSTMAN)"
    "Clock Town South Wonder Item 1": "hit_target_range_far"
    "Clock Town South Wonder Item 2": "hit_target_range_far"
    "Clock Town South Wonder Item 3": "hit_target_range_far"

"Clock Town South Upper West":
  region: CLOCK_TOWN_SOUTH
  exits:
    "Clock Town West": "true"
    "Clock Town South": "true"

"Clock Town South Lower West":
  region: CLOCK_TOWN_SOUTH
  exits:
    "Clock Town West": "true"
    "Clock Town South": "true"

"Clock Town South Upper East":
  region: CLOCK_TOWN_SOUTH
  exits:
    "Clock Town East": "true"
    "Clock Town South": "true"

"Clock Town South Lower East":
  region: CLOCK_TOWN_SOUTH
  exits:
    "Clock Town East": "true"
    "Clock Town South": "true"

"Clock Town North":
  region: CLOCK_TOWN_NORTH
  exits:
    "Termina Field": "true"
    "Clock Town South": "true"
    "Clock Town East": "true"
    "Clock Town Fairy Fountain": "true"
    "Deku Playground": "true"
    "Tingle Town": "soul_npc(SOUL_NPC_TINGLE) && is_day && (has_weapon_range || (has_weapon && (trick(MM_NCT_TINGLE) || has_hover_boots)))"
    "Clock Town North Postbox": "true"
  events:
    HIDE_SEEK1: "soul_bombers && has_weapon_range && first_day"
    HIDE_SEEK2: "soul_bombers && has_weapon_range && second_day"
    HIDE_SEEK3: "soul_bombers && has_weapon_range && final_day"
    BOMBERS_NORTH1: "event(HIDE_SEEK1)"
    BOMBERS_NORTH2: "event(HIDE_SEEK2)"
    BOMBERS_NORTH3: "event(HIDE_SEEK3)"
    BOMBER_CODE: "bombers1 || bombers2 || bombers3"
    SAKON_BOMB_BAG: "can_fight && at(NIGHT1_AM_12_00)"
    SAKON_BOOM: "(has_arrows || can_hookshot_short || can_use_din) && at(NIGHT1_AM_12_00)"
    MAIL_LETTER: "has(LETTER_TO_KAFEI) && before(DAY2_AM_11_30)"
    PICTURE_TINGLE: "soul_npc(SOUL_NPC_TINGLE) && has(PICTOGRAPH_BOX) && is_day"
    RUPEES: "true"
  locations:
    "Clock Town Tree HP": "true"
    "Clock Town Bomber Notebook": "event(BOMBER_CODE)"
    "Clock Town Blast Mask": "event(SAKON_BOMB_BAG)"
    "Clock Town Keaton HP": "soul_npc(SOUL_NPC_KEATON) && has_mask_keaton"
    "Clock Town Keaton Grass Reward 1": "true"
    "Clock Town Keaton Grass Reward 2": "keaton_grass_easy"
    "Clock Town Keaton Grass Reward 3": "keaton_grass_easy"
    "Clock Town Keaton Grass Reward 4": "keaton_grass_easy"
    "Clock Town Keaton Grass Reward 5": "keaton_grass_easy"
    "Clock Town Keaton Grass Reward 6": "keaton_grass_hard"
    "Clock Town Keaton Grass Reward 7": "keaton_grass_hard"
    "Clock Town Keaton Grass Reward 8": "keaton_grass_hard"
    "Clock Town Keaton Grass Reward 9": "keaton_grass_hard"
    "Clock Town North Forked Tree 1": "true"
    "Clock Town North Forked Tree 2": "true"

"Clock Town North Postbox":
  region: NONE
  exits:
    "Clock Town North": "true"
  locations:
    "Clock Town Post Box": "has(MASK_POSTMAN)"

"Clock Town West":
  region: CLOCK_TOWN_WEST
  events:
    BOMBERS_WEST1: "event(HIDE_SEEK1)"
    BOMBERS_WEST2: "event(HIDE_SEEK2)"
    BOMBERS_WEST3: "event(HIDE_SEEK3)"
  exits:
    "Termina Field": "true"
    "Clock Town South Upper West": "true"
    "Clock Town South Lower West": "true"
    "Bomb Shop": "true"
    "Trading Post": "true"
    "Curiosity Shop": "between(NIGHT1_PM_10_00, DAY2_AM_06_00) || between(NIGHT2_PM_10_00, DAY3_AM_06_00) || after(NIGHT3_PM_10_00)"
    "Post Office": "between(DAY1_PM_03_00, NIGHT1_AM_12_00) || (event(MAIL_LETTER) && between(NIGHT2_PM_06_00, NIGHT2_AM_12_00)) || is_night3"
    "Swordsman School": "first_day || second_day || between(DAY3_AM_06_00, NIGHT3_PM_11_00) || after(NIGHT3_AM_12_00)"
    "Lottery": "is_day || (event(PLAY_LOTTERY) && (before(NIGHT1_PM_11_00) || between(NIGHT2_PM_06_00, NIGHT2_PM_11_00) || between(NIGHT3_PM_06_00, NIGHT3_PM_11_00)))"
  locations:
    "Clock Town Bank Reward 1": "soul_banker && can_use_wallet(1)"
    "Clock Town Bank Reward 2": "soul_banker && (can_use_wallet(2) || (can_use_wallet(1) && (trick(MM_BANK_ONE_WALLET) || trick(MM_BANK_NO_WALLET))))"
    "Clock Town Bank Reward 3": "soul_banker && (can_use_wallet(3) || (can_use_wallet(2) && trick(MM_BANK_ONE_WALLET)) || (can_use_wallet(1) && trick(MM_BANK_NO_WALLET)))"
    "Clock Town Rosa Sisters HP": "soul_citizen && has(MASK_KAMARO) && (is_night1 || is_night2)"

"Clock Town East Main":
  region: CLOCK_TOWN_EAST
  exits:
    "Termina Field": "true"
    "Clock Town North": "true"
    "Clock Town South Upper East": "true"
    "Clock Town South Lower East": "true"
    "Mayor's Office": "between(DAY1_AM_10_00, NIGHT1_PM_08_00) || between(DAY2_AM_10_00, NIGHT2_PM_08_00) || after(DAY3_AM_10_00)"
    "Town Archery": "before(NIGHT1_PM_10_00) || between(DAY2_AM_06_00, NIGHT2_PM_10_00) || between(DAY3_AM_06_00, NIGHT3_PM_10_00)"
    "Chest Game": "before(NIGHT1_PM_10_00) || between(DAY2_AM_06_00, NIGHT2_PM_10_00) || between(DAY3_AM_06_00, NIGHT3_PM_10_00)"
    "Honey & Darling Game": "before(NIGHT1_PM_10_00) || between(DAY2_AM_06_00, NIGHT2_PM_10_00) || between(DAY3_AM_06_00, NIGHT3_PM_10_00)"
    "Stock Pot Inn": "has(ROOM_KEY) || between(DAY1_AM_08_00, NIGHT1_PM_08_00) || between(DAY2_AM_08_00, NIGHT2_PM_08_00) || after(DAY3_AM_08_00)"
    "Clock Town East SPI Roof": "has(MASK_DEKU) || short_hook_anywhere || has_hover_boots || event(SPI_ROOF_FARORE)"
    "Milk Bar": "between(DAY1_AM_10_00, NIGHT1_PM_09_00) || between(DAY2_AM_10_00, NIGHT2_PM_09_00) || between(DAY3_AM_10_00, NIGHT3_PM_09_00) || (has(MASK_ROMANI) && (between(NIGHT1_PM_10_00, NIGHT1_AM_05_00) || between(NIGHT2_PM_10_00, NIGHT2_AM_05_00) || after(NIGHT3_PM_10_00)))"
    "Astral Observatory Passage": "event(BOMBER_CODE) || event(GUESS_BOMBER) || trick(MM_BOMBER_BACKFLIP) || short_hook_anywhere"
    "Clock Town East Postbox": "true"
  events:
    BOMBERS_EAST1: "event(HIDE_SEEK1)"
    BOMBERS_EAST2: "event(HIDE_SEEK2)"
    BOMBERS_EAST3: "event(HIDE_SEEK3)"
    MAIL_LETTER: "has(LETTER_TO_KAFEI) && before(DAY2_AM_11_30)"
  locations:
    "Clock Town Silver Rupee Chest": "true"
    "Clock Town Postman Hat": "event(POSTMAN_FREEDOM) && between(NIGHT3_PM_06_00, NIGHT3_AM_05_00)"
    "Clock Town East Wonder Item Target Left 1": "hit_target_range_melee"
    "Clock Town East Wonder Item Target Left 2": "hit_target_range_melee"
    "Clock Town East Wonder Item Target Left 3": "hit_target_range_melee"
    "Clock Town East Wonder Item Target Right 1": "hit_target_range_melee"
    "Clock Town East Wonder Item Target Right 2": "hit_target_range_melee"
    "Clock Town East Wonder Item Target Right 3": "hit_target_range_melee"
    "Clock Town East Wonder Item Basket 1": "true"
    "Clock Town East Wonder Item Basket 2": "true"
    "Clock Town East Wonder Item Basket 3": "true"
    "Clock Town East Small Crate 1": "true"
    "Clock Town East Small Crate 2": "true"

"Clock Town East Postbox":
  region: NONE
  exits:
    "Clock Town East Main": "true"
  locations:
    "Clock Town Post Box": "has(MASK_POSTMAN)"

"Clock Town East":
  region: CLOCK_TOWN_EAST
  exits:
    "Clock Town East Main": "true"
  events:
    GUESS_BOMBER: "soul_bombers && trick(MM_BOMBER_GUESS)"

"Clock Town East Near Hideout":
  region: NONE
  exits:
    "Clock Town East Main": "true"
  locations:
    "Clock Town Bomber Notebook": "event(GUESS_BOMBER)"

"Astral Observatory Passage":
  region: ENTRANCE
  exits:
    "Clock Town East Near Hideout": "true"
    "Astral Observatory Junction": "true"
  events:
    MAGIC: "true"
    RUPEES: "true"
  locations:
    "Astral Observatory Passage Chest": "(has_explosives || trick_keg_explosives) && (can_swim || is_tall)"
    "Astral Observatory Passage Pot 1": "true"
    "Astral Observatory Passage Pot 2": "true"
    "Astral Observatory Passage Pot 3": "true"
    "Astral Observatory Passage Pot 4": "true"
    "Astral Observatory Pot 1": "true"
    "Astral Observatory Pot 2": "true"
    "Astral Observatory Pot 3": "true"

"Astral Observatory Junction":
  region: NONE
  exits:
    "Astral Observatory Passage": "true"
    "Astral Observatory": "true"

"Laundry Pool":
  region: LAUNDRY_POOL
  exits:
    "Clock Town South": "true"
    "Kafei Hideout": "(event(MAIL_LETTER) && between(DAY2_PM_02_00, NIGHT2_PM_10_00)) || (event(MEET_KAFEI) && between(DAY3_PM_01_00, NIGHT3_PM_10_00))"
  events:
    FROG_1: "has(MASK_DON_GERO)"
    MAGIC: "true"
  locations:
    "Clock Town Guru Guru Mask Bremen": "soul_guru_guru && (is_night1 || is_night2)"
    "Clock Town Stray Fairy": "is_day"
    "Clock Town Laundry Pool Small Crate": "true"
    "Clock Town Laundry Pool Grass 1": "true"
    "Clock Town Laundry Pool Grass 2": "true"
    "Clock Town Laundry Pool Grass 3": "true"
    "Clock Town Laundry Pool Rupee 1": "is_night2 && can_swim_or_sink"
    "Clock Town Laundry Pool Rupee 2": "is_night2 && can_swim_or_sink"
    "Clock Town Laundry Pool Rupee 3": "is_night2 && can_swim_or_sink"

"Clock Town Fairy Fountain":
  region: ENTRANCE
  exits:
    "Clock Town North": "true"
  locations:
    "Clock Town Great Fairy": "sf_town"
    "Clock Town Great Fairy Alt": "sf_town && (has(MASK_DEKU) || has_mask_goron || has_mask_zora)"

"Bomb Shop":
  region: ENTRANCE
  events:
    BUY_KEG: "soul_goron && can_carry_keg && has(POWDER_KEG) && can_use_wallet(1)"
  exits:
    "Clock Town West": "true"
  locations:
    "Bomb Shop Item 1": "soul_bombchu_shopkeeper && shop_price(0x00)"
    "Bomb Shop Item 2": "soul_bombchu_shopkeeper && shop_price(0x01)"
    "Bomb Shop Bomb Bag": "soul_bombchu_shopkeeper && shop_price(0x02)"
    "Bomb Shop Bomb Bag 2": "soul_bombchu_shopkeeper && event(SAKON_BOMB_BAG) && shop_price(0x03)"

"Trading Post":
  region: ENTRANCE
  stay:
    # This is to make logic aware of the break
    NIGHT1_PM_09_00: "false"
    NIGHT1_PM_10_00: "false"
    NIGHT2_PM_09_00: "false"
    NIGHT2_PM_10_00: "false"
    NIGHT3_PM_09_00: "false"
  events:
    SCARECROW: "can_play_scarecrow"
    FISH: "true"
  exits:
    "Clock Town West": "true"
    "Trading Post Items": "(soul_fishing_pond_owner && (before(NIGHT1_PM_09_00) || between(DAY2_AM_06_00, NIGHT2_PM_09_00))) || (soul_rooftop_man && (between(NIGHT1_PM_09_00, DAY2_AM_06_00) || between(NIGHT2_PM_09_00, NIGHT3_PM_09_00)))"
  locations:
    "Trading Post Pot": "true"
    "Trading Post Bush 1": "true"
    "Trading Post Bush 2": "true"
    "Trading Post Bush 3": "true"
    "Trading Post Bush 4": "true"
"Trading Post Items":
  region: ENTRANCE
  locations:
    "Trading Post Item 1": "shop_price(0x05)"
    "Trading Post Item 2": "shop_price(0x06)"
    "Trading Post Item 3": "shop_price(0x07)"
    "Trading Post Item 4": "shop_price(0x08)"
    "Trading Post Item 5": "shop_price(0x09)"
    "Trading Post Item 6": "shop_price(0x0a)"
    "Trading Post Item 7": "shop_price(0x0b)"
    "Trading Post Item 8": "shop_price(0x0c)"

"Curiosity Shop":
  region: ENTRANCE
  exits:
    "Clock Town West": "true"
    "Curiosity Shop 2": "true"
  locations:
    "Curiosity Shop All-Night Mask": "(event(SAKON_BOMB_BAG) || event(SAKON_BOOM)) && shop_price(0x04) && is_night3"
    #"Curiostiy Shop 5r Trade": "(has_milk || event(MUSHROOM)) && is_night"
    #"Curiostiy Shop 20r Trade": "(event(WATER) || event(BUGS) || event(FISH) || has_milk || has_red_or_blue_potion || has_green_potion || has_zora_egg) && is_night"
    #"Curiostiy Shop 50r Trade": "(event(POE)) && is_night"
    #"Curiostiy Shop 200r Trade": "(has_chateau || has_big_poe)) && is_night"

"Curiosity Shop 2":
  region: NONE
  locations:
    "Bomb Shop Bomb Bag 2": "shop_ex_price(0x00) && is_night3"

"Kafei Hideout":
  region: ENTRANCE
  stay:
    NIGHT2_PM_10_00: "false"
    NIGHT3_PM_10_00: "false"
    # Fake start of day kicks
    DAY2_AM_06_00: "false"
    DAY3_AM_06_00: "false"
  exits:
    "Laundry Pool": "true"
  events:
    MEET_KAFEI: "soul_npc(SOUL_NPC_KAFEI) && event(MAIL_LETTER) && between(DAY2_PM_02_00, NIGHT2_PM_10_00)"
  locations:
    "Kafei Hideout Pendant of Memories": "soul_npc(SOUL_NPC_KAFEI) && event(MAIL_LETTER) && between(DAY2_PM_02_00, NIGHT2_PM_10_00)"
    "Kafei Hideout Owner Reward 1": "between(DAY3_AM_06_00, NIGHT3_PM_10_00)"
    "Kafei Hideout Owner Reward 2": "between(DAY3_AM_06_00, NIGHT3_PM_10_00)"

"Post Office":
  region: ENTRANCE
  exits:
    "Clock Town West": "true"
  events:
    POSTMAN_FREEDOM: "soul_citizen && has(LETTER_TO_MAMA) && is_night3"
  locations:
    "Post Office HP": "soul_citizen && (has_mask_bunny || trick(MM_POST_OFFICE_GAME)) && (between(DAY1_PM_03_00, NIGHT1_AM_12_00) || (event(MAIL_LETTER) && between(NIGHT2_PM_06_00, NIGHT2_AM_12_00)))"

"Swordsman School":
  region: ENTRANCE
  exits:
    "Clock Town West": "true"
  stay:
    NIGHT3_PM_11_00: "false"
  locations:
    "Swordsman School HP": "soul_carpet_man && has_b_sword && can_use_wallet(1) && before(NIGHT3_PM_11_00)"
    "Swordsman School Pot 1": "has_b_sword && after(NIGHT3_AM_12_00)"
    "Swordsman School Pot 2": "has_b_sword && after(NIGHT3_AM_12_00)"
    "Swordsman School Pot 3": "has_b_sword && after(NIGHT3_AM_12_00)"
    "Swordsman School Pot 4": "has_b_sword && after(NIGHT3_AM_12_00)"
    "Swordsman School Pot 5": "has_b_sword && after(NIGHT3_AM_12_00)"

"Lottery":
  region: ENTRANCE
  events:
    PLAY_LOTTERY: "is_day && can_use_wallet(1)"
  exits:
    "Clock Town West": "true"
#  locations:
#    "Lottery Prize": "event(PLAY_LOTTERY) && (between(NIGHT1_PM_06_00, NIGHT1_PM_11_00) || between(NIGHT2_PM_06_00, NIGHT2_PM_11_00) || between(NIGHT3_PM_06_00, NIGHT3_PM_11_00))"

"Mayor's Office":
  region: ENTRANCE
  exits:
    "Clock Town East": "true"
  locations:
    "Mayor's Office Kafei's Mask": "soul_npc(SOUL_NPC_AROMA) && (between(DAY1_AM_10_00, NIGHT1_PM_08_00) || between(DAY2_AM_10_00, NIGHT2_PM_08_00))"
    "Mayor's Office HP": "soul_npc(SOUL_NPC_MAYOR_DOTOUR) && has(MASK_COUPLE) && (between(DAY1_AM_10_00, NIGHT1_PM_08_00) || between(DAY2_AM_10_00, NIGHT2_PM_08_00) || between(DAY3_AM_10_00, NIGHT3_PM_06_00))"

"Milk Bar":
  region: ENTRANCE
  exits:
    "Clock Town East": "true"
  stay:
    NIGHT1_PM_10_00: "false"
    NIGHT1_AM_05_00: "false"
    NIGHT2_PM_10_00: "false"
    NIGHT2_AM_05_00: "false"
    NIGHT3_PM_10_00: "false"
    NIGHT3_AM_05_00: "false"
  locations:
    "Milk Bar Troupe Leader Mask": "soul_npc(SOUL_NPC_TOTO) && soul_gorman && can_play_minigame && has(MASK_DEKU) && has_mask_zora && has_mask_goron && (between(NIGHT1_PM_10_00, NIGHT1_AM_05_00) || between(NIGHT2_PM_10_00, NIGHT2_AM_05_00))"
    "Milk Bar Madame Aroma Bottle": "soul_npc(SOUL_NPC_AROMA) && has(MASK_KAFEI) && has(LETTER_TO_MAMA) && (between(NIGHT3_PM_06_00, NIGHT3_PM_09_00) || after(NIGHT3_PM_10_00))"
    "Milk Bar Purchase Milk": "soul_talon && has(MASK_ROMANI) && can_use_wallet(1) && (between(NIGHT1_PM_10_00, DAY2_AM_06_00) || between(NIGHT2_PM_10_00, DAY3_AM_06_00) || between(NIGHT3_PM_06_00, NIGHT3_PM_09_00) || after(NIGHT3_PM_10_00))"
    "Milk Bar Purchase Chateau": "soul_talon && has(MASK_ROMANI) && can_use_wallet(2) && (between(NIGHT1_PM_10_00, DAY2_AM_06_00) || between(NIGHT2_PM_10_00, DAY3_AM_06_00) || between(NIGHT3_PM_06_00, NIGHT3_PM_09_00) || after(NIGHT3_PM_10_00))"

"Town Archery":
  region: ENTRANCE
  exits:
    "Clock Town East": "true"
  locations:
    "Town Archery Reward 1": "soul_shooting_gallery_owner && has_bow && can_use_wallet(1) && (before(NIGHT1_PM_10_00) || between(DAY2_AM_06_00, NIGHT2_PM_10_00) || between(DAY3_AM_06_00, NIGHT3_PM_10_00))"
    "Town Archery Reward 2": "soul_shooting_gallery_owner && has_bow && can_use_wallet(1) && (before(NIGHT1_PM_10_00) || between(DAY2_AM_06_00, NIGHT2_PM_10_00) || between(DAY3_AM_06_00, NIGHT3_PM_10_00))"

"Chest Game":
  region: ENTRANCE
  exits:
    "Clock Town East": "true"
  locations:
    "Chest Game HP": "soul_bombchu_bowling_lady && has_mask_goron && can_use_wallet(1) && (before(NIGHT1_PM_10_00) || between(DAY2_AM_06_00, NIGHT2_PM_10_00) || is_day3)"
    #Chest Game Reward Human": "can_use_wallet(1) && (before(NIGHT1_PM_10_00) || between(DAY2_AM_06_00, NIGHT2_PM_10_00) || is_day3)"
    #Chest Game Reward Zora": "can_use_wallet(1) && has_mask_zora && (before(NIGHT1_PM_10_00) || between(DAY2_AM_06_00, NIGHT2_PM_10_00) || is_day3)"
    #Chest Game Reward Deku": "can_use_wallet(1) && has(MASK_DEKU) && (before(NIGHT1_PM_10_00) || between(DAY2_AM_06_00, NIGHT2_PM_10_00) || is_day3)"

"Honey & Darling Game":
  region: ENTRANCE
  events:
    HD_REWARD_1: "soul_honey_darling && (has_bomb_bag || bombchu_license) && before(NIGHT1_PM_10_00)"
    HD_REWARD_2: "soul_honey_darling && has_bomb_bag && between(DAY2_AM_06_00, NIGHT2_PM_10_00)"
    HD_REWARD_3: "soul_honey_darling && (has_bow || can_use_deku_bubble) && is_day3"
  exits:
    "Clock Town East": "true"
  locations:
    "Honey & Darling Reward Any Day": "can_use_wallet(1) && (event(HD_REWARD_1) || event(HD_REWARD_2) || event(HD_REWARD_3))"
    "Honey & Darling Reward All Days": "can_use_wallet(1) && has_bow && event(HD_REWARD_1) && event(HD_REWARD_2) && event(HD_REWARD_3)"

"Stock Pot Inn":
  region: STOCK_POT_INN
  exits:
    "Clock Town East": "true"
    "Stock Pot Inn Roof": "true"
  stay:
    NIGHT1_PM_08_00: "has(ROOM_KEY)"
    DAY2_AM_06_00: "has(ROOM_KEY)"
    NIGHT2_PM_08_00: "has(ROOM_KEY)"
    DAY3_AM_06_00: "has(ROOM_KEY)"
  events:
    SETUP_MEET: "soul_anju && has(MASK_KAFEI) && between(DAY1_PM_01_45, NIGHT1_PM_09_00)"
    MEET_ANJU: "soul_anju && event(SETUP_MEET) && cond(setting(erIndoorsExtra), between(NIGHT1_AM_12_00, DAY2_AM_06_00), between(NIGHT1_AM_12_00, DAY2_AM_06_00) && (has(ROOM_KEY) || has(MASK_DEKU) || has_hover_boots || event(SPI_ROOF_FARORE) || trick(MM_STOCK_POT_WAIT)))"
    DELIVER_PENDANT: "soul_anju && has(PENDANT_OF_MEMORIES) && (between(DAY2_AM_06_00, NIGHT2_PM_09_00) || between(DAY3_AM_06_00, DAY3_AM_11_30))"
    BUGS: "true"
    FISH: "true"
    MUSHROOM: "has(MASK_SCENTS)"
  locations:
    "Stock Pot Inn Guest Room Chest": "has(ROOM_KEY)"
    "Stock Pot Inn Staff Room Chest": "is_night3"
    "Stock Pot Inn Room Key": "soul_anju && between(DAY1_PM_01_45, DAY1_PM_04_00)"
    "Stock Pot Inn Letter to Kafei": "event(MEET_ANJU)"
    "Stock Pot Inn Couple's Mask": "event(SUN_MASK) && event(DELIVER_PENDANT) && event(MEET_ANJU) && after(NIGHT3_AM_04_00)"
    "Stock Pot Inn Grandma HP 1": "soul_old_hag && has(MASK_ALL_NIGHT) && grandma_story_1"
    "Stock Pot Inn Grandma HP 2": "soul_old_hag && has(MASK_ALL_NIGHT) && grandma_story_2"
    "Stock Pot Inn ??? HP": "soul_npc(SOUL_NPC_TOILET_HAND) && cond(setting(erIndoorsExtra), has_paper && midnight, has_paper && midnight && (clock_night3 || has(ROOM_KEY) || has(MASK_DEKU) || has_hover_boots || event(SPI_ROOF_FARORE) || trick(MM_STOCK_POT_WAIT)))"
    "Stock Pot Inn Wonder Item 1": "has_mask_zora && has_magic"
    "Stock Pot Inn Wonder Item 2": "has_mask_zora && has_magic"
    "Stock Pot Inn Wonder Item 3": "has_mask_zora && has_magic"

"Clock Town East SPI Roof":
  region: CLOCK_TOWN_EAST
  exits:
    "Clock Town East": "true"
    "Stock Pot Inn": "true"

"Stock Pot Inn Roof":
  region: CLOCK_TOWN_EAST
  exits:
    "Clock Town East SPI Roof": "true"
  events:
    SPI_ROOF_FARORE: "can_use_farore"

"Deku Playground":
  region: ENTRANCE
  events:
    DEKU_REWARD_1: "soul_npc(SOUL_NPC_PLAYGROUND_SCRUBS) && between(DAY1_AM_06_00, NIGHT1_AM_12_00)"
    DEKU_REWARD_2: "soul_npc(SOUL_NPC_PLAYGROUND_SCRUBS) && between(DAY2_AM_06_00, NIGHT2_AM_12_00)"
    DEKU_REWARD_3: "soul_npc(SOUL_NPC_PLAYGROUND_SCRUBS) && between(DAY3_AM_06_00, NIGHT3_AM_12_00)"
  exits:
    "Clock Town North": "true"
  locations:
    "Deku Playground Reward Any Day": "has(MASK_DEKU) && can_use_wallet(1) && (event(DEKU_REWARD_1) || event(DEKU_REWARD_2) || event(DEKU_REWARD_3))"
    "Deku Playground Reward All Days": "has(MASK_DEKU) && can_use_wallet(1) && event(DEKU_REWARD_1) && event(DEKU_REWARD_2) && event(DEKU_REWARD_3)"

"Astral Observatory":
  region: CLOCK_TOWN_EAST
  exits:
    "Astral Observatory Junction": "true"
    "Astral Observatory Balcony": "true"
  events:
    SCRUB_TELESCOPE: "soul_astronomer && soul_business_scrub"
    TEAR_TELESCOPE: "soul_astronomer"
    SCARECROW: "can_play_scarecrow"

"Tingle Town":
  region: TINGLE
  locations:
    "Tingle Map Clock Town": "tingle_price(0x00)"
    "Tingle Map Woodfall": "tingle_price(0x01)"

"Owl Clock Town":
  region: CLOCK_TOWN_SOUTH
  exits:
    "Clock Town Near Clock Tower": "true"
  locations:
    "Clock Town Owl Statue": "has_sticks || has_sword"
